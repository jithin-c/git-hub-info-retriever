{% extends 'base.html' %}

{% block body %}
<table class="table table-inverse">
    <tr>
        <th>Admin panel</th>
    </tr>
</table>

<br>

<div class="container">
    <table class="table table-inverse table-sm">
        <thead>
        <tr>
            <th>Reports</th>
            <th>Today</th>
            <th>Past 1 Week</th>
            <th>Past 1 Month</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>API Calls</td>
            <td>{{api_reports.today}}</td>
            <td>{{api_reports.weekly}}</td>
            <td>{{api_reports.monthly}}</td>
        </tr>
        <tr>
            <td>Users Added</td>
            <td>{{user_reports.today}}</td>
            <td>{{user_reports.weekly}}</td>
            <td>{{user_reports.monthly}}</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="container">
    <form action=" " method="POST">{%csrf_token%}
        <div class="form-group">
            <label>Email address</label>
            <input type="email" class="form-control form-control-sm" id="id_email" name="email"
                   aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group">
            <label>Full name</label>
            <input type="text" class="form-control form-control-sm" id="id_fullname" name="fullname"
                   placeholder="Enter full name">
        </div>
        <div class="form-group">
            <label>Login id</label>
            <input type="text" class="form-control form-control-sm" id="id_login" name="login"
                   placeholder="Enter login id">
        </div>
        <button type="submit" class="btn btn-primary">Filter users</button>
    </form>
</div>

<br>

<div class="container">
    <table class="table table-bordered table-sm">
        <thead>
        <tr>
            <th>#</th>
            <th>Avatar</th>
            <th>User id</th>
            <th>Login id</th>
            <th>Name</th>
            <th>Email</th>
            <th>created date</th>
        </tr>
        </thead>
        <tbody>
        {% for user in user_list %}
        <tr>
            <th scope="row">{{forloop.counter}}</th>
            <th>
                <img style="height:25px;" src="{{user.avatar_url}}">
            </th>
            <td>{{user.id}}</td>
            <td>{{user.login}}</td>
            <td>{{user.fullname}}</td>
            <td>{{user.email}}</td>
            <td>{{user.created}}</td>
        </tr>
        {%endfor%}
        </tbody>
    </table>
</div>

{% endblock %}